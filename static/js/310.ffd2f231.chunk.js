"use strict";(self.webpackChunkwater_tracker=self.webpackChunkwater_tracker||[]).push([[310],{6310:function(n,e,t){t.r(e),t.d(e,{default:function(){return An}});var r,i,o,l,s,a,d,c,x,u,f,h,p,g,m,b,v,j,w,Z,y,k,P,C,M,E,z,D,R,F,I,S,L=t(9439),N=t(2791),A=t(9434),O=t(6118),B=function(n){return n.dataMonth.data},W=t(7609),Y=t(168),$=t(5867),T=t(7029),_=$.ZP.div(r||(r=(0,Y.Z)(["\n  display: flex;\n  flex-direction: column;\n  /* height: 506px; */\n\n  @media screen and (min-width: 768px) {\n    /* height: 340px; */\n  }\n  @media screen and (min-width: 1440px) {\n    /* height: 332px; */\n  }\n"]))),H=$.ZP.div(i||(i=(0,Y.Z)(["\n  display: flex;\n  margin-bottom: 16px;\n  justify-content: space-between;\n  align-items: center;\n"]))),V=$.ZP.h2(o||(o=(0,Y.Z)(["\n  color: ",";\n  font-size: 24px;\n  font-weight: 500;\n  line-height: calc(30 / 24);\n\n  @media screen and (min-width: 768px) {\n    font-size: 26px;\n    line-height: calc(32 / 26);\n  }\n"])),T.w.colors.black),q=$.ZP.button(l||(l=(0,Y.Z)(["\n  width: 14px;\n  height: 14px;\n  padding: 0;\n  cursor: pointer;\n  margin: 0 10px;\n  background-color: transparent;\n  border: none;\n  fill: ",";\n\n  &:disabled {\n    fill: ",";\n    cursor: not-allowed;\n  }\n"])),T.w.colors.blue,T.w.colors.violet),J=$.ZP.div(s||(s=(0,Y.Z)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: ",";\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 18px;\n\n  @media screen and (min-width: 768px) {\n    gap: 34px;\n    row-gap: 20px;\n    width: 34px;\n    height: 34px;\n  }\n"])),(function(n){return n.$isOutlineVisible?"1px solid ".concat(T.w.colors.orange):"none"})),U=$.ZP.div(a||(a=(0,Y.Z)(["\n  color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),T.w.colors.blue),G=$.ZP.span(d||(d=(0,Y.Z)(["\n  font-size: 16px;\n  line-height: 20px;\n"]))),K=$.ZP.span(c||(c=(0,Y.Z)(["\n  color: ",";\n\n  font-size: 10px;\n  font-style: normal;\n  font-weight: 400;\n  align-items: center;\n  margin-top: 4px;\n  line-height: calc(16 / 10);\n  @media screen and (min-width: 768px) {\n    font-size: 13px;\n    line-height: calc(20 / 13);\n  }\n  @media screen and (min-width: 1440px) {\n    font-size: 12px;\n    line-height: calc(18 / 12);\n  }\n"])),T.w.colors.violet),Q=$.ZP.div(x||(x=(0,Y.Z)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n\n  column-gap: 26px;\n  row-gap: 16px;\n\n  @media screen and (min-width: 768px) {\n    column-gap: 34px;\n    row-gap: 20px;\n    column-gap: 34px;\n  }\n  @media screen and (min-width: 1440px) {\n    column-gap: 22px;\n  }\n"]))),X=$.ZP.div(u||(u=(0,Y.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n"]))),nn=$.ZP.div(f||(f=(0,Y.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 280px;\n  position: absolute;\n  bottom: 54px;\n\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0px 4px 4px 0px rgba(64, 123, 255, 0.3);\n  padding: 24px 13px;\n  transform-origin: bottom;\n  z-index: 2;\n\n  @media screen and (max-width: 767px) {\n    left: ","px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: ",";\n    left: ",";\n    padding: 24px 16px;\n    width: 292px;\n    bottom: 58px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    bottom: 56px;\n  }\n\n  h3 {\n    color: ",";\n    font-size: '16px';\n    line-height: calc(20 / 16);\n  }\n  p {\n    color: ",";\n    font-size: '16px';\n    line-height: calc(20 / 16);\n    span {\n      color: ",";\n      font-size: '18px';\n      font-weight: 500;\n      line-height: calc(24 / 18);\n    }\n  }\n"])),(function(n){return-7-n.$deltaNum}),(function(n){return n.$delta?"17px":""}),(function(n){return n.$delta?"":"17px"}),T.w.colors.blue,T.w.colors.black,T.w.colors.blue),en=t(184),tn=function(n){var e=n.calendarRef,t=n.refData,r=n.waterData,i=void 0===r?{}:r,o=i.dayOfMonth,l=i.waterRate,s=i.percent,a=i.numberRecords,d=!0,c=(null===t||void 0===t?void 0:t.current.getBoundingClientRect().left)-(null===e||void 0===e?void 0:e.current.getBoundingClientRect().left);return c<250&&(d=!1),(0,en.jsx)(nn,{$delta:d,$deltaNum:c,children:Object.values(i).length?(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)("h3",{children:o}),(0,en.jsxs)("p",{children:["Daily norma: ",(0,en.jsxs)("span",{children:[l/1e3," L"]})]}),(0,en.jsxs)("p",{children:["Fulfillment of the daily norm:"," ",(0,en.jsxs)("span",{children:[s>100?100:s,"%"]})]}),(0,en.jsxs)("p",{children:["How many servings of water: ",(0,en.jsx)("span",{children:a})]})]}):(0,en.jsx)("h3",{children:"You don't have records of this day."})})},rn=function(n){var e=n.calendarRef,t=n.day,r=n.waterPercentage,i=(0,N.useState)(null),o=(0,L.Z)(i,2),l=o[0],s=o[1],a=(0,N.useRef)(null),d=function(n){a.current&&!a.current.contains(n.target)&&s(null)};(0,N.useEffect)((function(){return document.addEventListener("click",d),function(){document.removeEventListener("click",d)}}),[]);return(0,en.jsxs)(X,{children:[(0,en.jsx)("div",{children:l===t&&(0,en.jsx)(tn,{calendarRef:e,refData:a,waterData:r},t)}),(0,en.jsx)(J,{ref:a,onClick:function(){s((function(n){return n===t?null:t}))},$isOutlineVisible:!r||r.percent<100,children:t}),(0,en.jsx)(K,{children:r?"".concat(Math.min(r.percent,100),"%"):"0%"})]},t)},on=function(){var n=(0,N.useState)(new Date),e=(0,L.Z)(n,2),t=e[0],r=e[1],i=(0,A.I0)(),o=(0,A.v9)(B),l=(0,N.useRef)(null);(0,N.useEffect)((function(){var n="".concat(t.getMonth()+1," - ").concat(t.getFullYear());i((0,O.E)(n))}),[i,t]);return(0,en.jsxs)(_,{className:"calendar",ref:l,children:[(0,en.jsxs)(H,{children:[(0,en.jsx)(V,{children:"Month"}),(0,en.jsxs)(U,{children:[(0,en.jsx)(q,{"aria-label":"Previous month",onClick:function(){var n=new Date(t.getFullYear(),t.getMonth()-1,1);r(n)},children:(0,en.jsx)("svg",{width:"14",height:"14",children:(0,en.jsx)("use",{href:W.Z+"#arrow-left"})})}),(0,en.jsx)(G,{children:new Intl.DateTimeFormat("en-US",{month:"long"}).format(t)}),(0,en.jsx)(q,{"aria-label":"Next month",onClick:function(){var n=new Date(t.getFullYear(),t.getMonth()+1,1);r(n)},disabled:function(){var n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}(),children:(0,en.jsx)("svg",{width:"14",height:"14",children:(0,en.jsx)("use",{href:W.Z+"#arrow-right"})})})]})]}),(0,en.jsx)(Q,{children:function(){var n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return Array.from({length:n},(function(n,e){var t=e+1,r=null===o||void 0===o?void 0:o.find((function(n){return n.dayOfMonth&&Number(n.dayOfMonth.split(",")[0])===t}));return(0,en.jsx)(rn,{calendarRef:l,day:t,waterPercentage:r},t)}))}()})]})},ln=$.ZP.aside(h||(h=(0,Y.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),sn=$.ZP.div(p||(p=(0,Y.Z)(["\n  width: 280px;\n  max-width: 540px;\n  padding: 24px 12px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 24px;\n\n  border-radius: 10px;\n  background: #fff;\n  text-align: center;\n"]))),an=$.ZP.div(g||(g=(0,Y.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),dn=$.ZP.button(m||(m=(0,Y.Z)(["\n  border: none;\n  background-color: transparent;\n\n  & svg {\n    width: 24px;\n    height: 24px;\n  }\n\n  & use {\n    fill: #407bff;\n  }\n\n  &:hover use {\n    fill: #ff9d43;\n  }\n"]))),cn=$.ZP.h3(b||(b=(0,Y.Z)(["\n  font-size: 26px;\n  font-weight: 500;\n  line-height: 1.23; /* 123.077% */\n"]))),xn=$.ZP.h4(v||(v=(0,Y.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.11; /* 111.111% */\n"]))),un=t(5705),fn=$.ZP.aside(j||(j=(0,Y.Z)(["\n  display: flex;\n"]))),hn=$.ZP.button(w||(w=(0,Y.Z)(["\n  border: none;\n  background-color: transparent;\n\n  & svg {\n    width: 24px;\n    height: 24px;\n    border-radius: 30px;\n    border: 1px solid #9ebbff;\n    background: #fff;\n    box-shadow: 0px 2px 4px 0px rgba(64, 123, 255, 0.2);\n  }\n\n  & use {\n    fill: #407bff;\n  }\n\n  &:hover use {\n    fill: #ff9d43;\n  }\n"]))),pn=$.ZP.span(Z||(Z=(0,Y.Z)(["\n  color: #407bff;\n  text-align: center;\n  font-family: Roboto;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px; /* 133.333% */\n"]))),gn=$.ZP.span(y||(y=(0,Y.Z)(["\n  width: 72px;\n  border-radius: 40px;\n  background: #d7e3ff;\n"]))),mn=$.ZP.button(k||(k=(0,Y.Z)(["\n  width: 100%;\n  display: flex;\n  padding: 8px 30px;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border-radius: 10px;\n  background: #407bff;\n  box-shadow: 0px 4px 8px 0px rgba(64, 123, 255, 0.34);\n\n  & span {\n    color: #fff;\n    line-height: 1.25; /* 125% */\n  }\n"]))),bn=t(3930),vn=t(179),jn=function(){var n=(0,A.I0)(),e=(0,N.useState)(50),t=(0,L.Z)(e,2),r=t[0],i=t[1],o=new Date,l=o.getHours()+":"+o.getMinutes();return(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)("p",{children:"Amount of water:"}),(0,en.jsxs)(fn,{children:[(0,en.jsx)(hn,{onClick:function(){r<=50||i(r-50)},children:(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#minus"})})}),(0,en.jsx)(gn,{children:(0,en.jsxs)(pn,{children:[r,"ml"]})}),(0,en.jsx)(hn,{onClick:function(){r>=2e3||i(r+50)},children:(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#plus"})})})]}),(0,en.jsx)(un.J9,{initialValues:{time:l,amountWater:r},onSubmit:function(e,t){!function(e){var t=e.time.split(":");o.setHours(t[0],t[1]);var i=o.toISOString();n((0,bn.al)({amountWater:r,date:i}))}(e),t.resetForm(),n((0,vn.Mr)())},autoComplete:"off",children:(0,en.jsxs)(un.l0,{children:[(0,en.jsxs)("label",{children:["Recording time:",(0,en.jsx)(un.gN,{name:"time",type:"time"})]}),(0,en.jsxs)("label",{children:["Enter the value of the water used:",(0,en.jsx)(un.gN,{name:"amountWater",type:"number",value:r,onChange:function(n){var e=parseInt(n.target.value);e>=0&&e<=2e3&&i(e)}})]}),(0,en.jsxs)("label",{children:[r,"ml"]}),(0,en.jsx)(mn,{type:"submit",children:(0,en.jsx)("span",{children:"Save"})})]})})]})},wn=t(9845),Zn=function(n){var e=(0,A.v9)((function(n){return n.modals.modal})),t=(0,A.I0)();(0,N.useEffect)((function(){var r=function(r){var i="keydown"===r.type;"Escape"!==r.key&&(n.current.contains(r.target)||i)&&e!==wn.Z.CLOSE||t((0,vn.Mr)())};return document.addEventListener("keydown",r),document.addEventListener("mousedown",r),function(){document.removeEventListener("keydown",r),document.removeEventListener("mousedown",r)}}),[n,t,e])},yn=function(){var n=(0,A.I0)(),e=(0,N.useRef)();return Zn(e),(0,en.jsx)(ln,{children:(0,en.jsxs)(sn,{ref:e,children:[(0,en.jsxs)(an,{children:[(0,en.jsx)(cn,{children:"Add water"}),(0,en.jsx)(dn,{onClick:function(){return n((0,vn.Mr)())},children:(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#close"})})})]}),(0,en.jsx)(xn,{children:"Choose a value:"}),(0,en.jsx)(jn,{})]})})},kn=$.ZP.h2(P||(P=(0,Y.Z)(["\n  margin-bottom: 16px;\n  text-align: left;\n  color: var(--Primery-Color-Black, #2f2f2f);\n  font-size: 26px;\n  font-weight: 500;\n  line-height: 1.23; /* 123.077% */\n"]))),Pn=$.ZP.li(C||(C=(0,Y.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid #d7e3ff;\n"]))),Cn=$.ZP.div(M||(M=(0,Y.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 12px;\n\n  & svg {\n    width: 26px;\n    height: 26px;\n    & use {\n      fill: #9ebbff;\n    }\n  }\n"]))),Mn=$.ZP.div(E||(E=(0,Y.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 18px;\n\n  & svg {\n    width: 16px;\n    height: 16px;\n  }\n"]))),En=$.ZP.p(z||(z=(0,Y.Z)(["\n  color: var(--Primery-Color-Blue, #407bff);\n  font-size: 18px;\n  line-height: 1.33; /* 133.333% */\n"]))),zn=$.ZP.p(D||(D=(0,Y.Z)(["\n  color: var(--Primery-Color-Black, #2f2f2f);\n  font-size: 12px;\n  line-height: 2; /* 200% */\n"]))),Dn=$.ZP.button(R||(R=(0,Y.Z)(["\n  border: none;\n  background-color: transparent;\n\n  & use {\n    fill: #9ebbff;\n  }\n\n  &:hover {\n    border-bottom: 1px solid #9ebbff;\n  }\n"]))),Rn=$.ZP.button(F||(F=(0,Y.Z)(["\n  border: none;\n  background-color: transparent;\n\n  & use {\n    fill: #ef5050;\n  }\n\n  &:hover {\n    border-bottom: 1px solid #ef5050;\n  }\n"]))),Fn=$.ZP.button(I||(I=(0,Y.Z)(["\n  color: var(--Primery-Color-Blue, #407bff);\n  line-height: 1.25; /* 125% */\n  border: none;\n  background-color: transparent;\n\n  & svg {\n    width: 16px;\n    height: 16px;\n    & use {\n      fill: #407bff;\n    }\n  }\n\n  &:hover {\n    color: var(--Secondary-color-5, #ff9d43);\n    & use {\n      fill: #ff9d43;\n    }\n  }\n"]))),In=function(n){return n.water.items},Sn=function(){var n=(0,A.I0)(),e=(0,N.useRef)();Zn(e);var t=(0,A.v9)((function(n){return n.modals.idWaterInModal}));return(0,en.jsx)(ln,{children:(0,en.jsxs)(sn,{ref:e,children:[(0,en.jsx)("h3",{children:"Delete entry"}),(0,en.jsx)(dn,{onClick:function(){return n((0,vn.Mr)())},children:(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#close"})})}),(0,en.jsx)("p",{children:"Are you sure you want to delete the entry?"}),(0,en.jsx)("button",{onClick:function(){return console.log("id",t),n((0,bn.Zc)(t)),void n((0,vn.Mr)())},children:"Delete"}),(0,en.jsx)("button",{onClick:function(){return n((0,vn.Mr)())},children:"Cancel"})]})})},Ln=function(){var n=(0,A.v9)((function(n){return n.modals.modal})),e=(0,A.I0)();(0,N.useEffect)((function(){e((0,bn.hB)())}),[e]);var t=(0,A.v9)(In).waterNotes;return(0,en.jsxs)("div",{children:[(0,en.jsx)(kn,{children:"Today"}),(null===t||void 0===t?void 0:t.length)>0?(0,en.jsx)("ul",{children:t.map((function(n){var t=n.amountWater,r=n.date,i=n._id;return(0,en.jsxs)(Pn,{children:[(0,en.jsxs)(Cn,{children:[(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#cup"})}),(0,en.jsxs)(En,{children:[t," ml"]}),(0,en.jsx)(zn,{children:r})]}),(0,en.jsxs)(Mn,{children:[(0,en.jsx)(Dn,{onClick:function(){e((0,vn.q3)())},children:(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#edit"})})}),(0,en.jsx)(Rn,{onClick:function(){return n=i,void e((0,vn.qp)(n));var n},children:(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#trash"})})})]})]},i)}))}):(0,en.jsx)("p",{children:"No records"}),(0,en.jsxs)(Fn,{onClick:function(){return e((0,vn.ie)())},children:[(0,en.jsx)("svg",{children:(0,en.jsx)("use",{href:W.Z+"#plus"})}),"Add water"]}),n===wn.Z.ADD_WATER&&(0,en.jsx)(yn,{}),n===wn.Z.DELETE_WATER&&(0,en.jsx)(Sn,{})]})},Nn=$.ZP.div(S||(S=(0,Y.Z)(["\n  padding: 24px 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  border-radius: 10px;\n  background: ",";\n  box-shadow: 0px 4px 14px 0px rgba(64, 123, 255, 0.3);\n\n  @media screen and (min-width: 768px) {\n    padding: 32px 24px;\n  }\n"])),T.w.colors.grey),An=function(){return(0,en.jsxs)(Nn,{children:[(0,en.jsx)(Ln,{}),(0,en.jsx)(on,{})]})}}}]);
//# sourceMappingURL=310.ffd2f231.chunk.js.map